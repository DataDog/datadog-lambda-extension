flavors:
  - name: amd64
    arch: amd64
    needs_code_checks: true
    suffix: amd64
    alpine: 0
    needs_layer_publish: true

  - name: arm64
    arch: arm64
    needs_code_checks: true
    suffix: arm64
    alpine: 0
    needs_layer_publish: true

  - name: amd64, alpine
    arch: amd64
    needs_code_checks: false
    suffix: amd64-alpine
    alpine: 1
    needs_layer_publish: false

  - name: arm64, alpine
    arch: arm64
    needs_code_checks: false
    suffix: arm64-alpine
    alpine: 1
    needs_layer_publish: false

# Unfortunately our mutli-arch images don't fit nicely into the flavors
# structure above.
multi_arch_image_flavors:
  - name: basic
    dependency_names: [amd64, arm64]
    platform: linux/amd64,linux/arm64
    alpine: 0
    suffix: ""

  - name: alpine
    dependency_names: ["amd64, alpine", "arm64, alpine"]
    platform: linux/amd64,linux/arm64
    alpine: 1
    suffix: "-alpine"
